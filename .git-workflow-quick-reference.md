# Git Workflow Quick Reference

## âš¡ Quick Commands

### Daily Workflow

```bash
# 1. Start from develop
git checkout develop
git pull origin develop

# 2. Create feature branch
git checkout -b feature/your-feature-name

# 3. Make changes and commit
git add .
git commit -m "feat(scope): description"

# 4. Push and create PR
git push origin feature/your-feature-name
# Create PR: feature/your-feature-name -> develop
```

### Pushing to Version Control (For Releases)

```bash
# 1. Ensure develop is up to date
git checkout develop
git pull origin develop

# 2. Merge to version-control
git checkout version-control
git pull origin version-control
git merge develop
git push origin version-control

# 3. Test in staging (version-control branch)

# 4. When ready for production, create PR: version-control -> main
# (Requires maintainer approval)
```

## ğŸš« Never Do This

- âŒ **Never push directly to main**
- âŒ **Never commit to main locally**
- âŒ **Never create branches from main** (except hotfixes)
- âŒ **Never force push to main or version-control**

## âœ… Always Do This

- âœ… **Always create branches from develop**
- âœ… **Always use conventional commit messages**
- âœ… **Always run `npm run migration:validate` before committing**
- âœ… **Always create PRs for code review**
- âœ… **Always test before pushing**

## ğŸ“‹ Branch Rules

| Branch | Who Can Push | How to Update |
|--------|-------------|---------------|
| `main` | Maintainers only | PR from `version-control` |
| `version-control` | All (via PR) | PR from `develop` |
| `develop` | All (via PR) | PR from `feature/*` branches |
| `feature/*` | Creator | Direct push |

## ğŸ”„ Workflow Diagram

```
main (Production)
  â†‘ PR (maintainers only)
version-control (Release)
  â†‘ PR (code review)
develop (Integration)
  â†‘ PR (code review)
feature/your-feature
```

## ğŸ“ Commit Message Format

```
<type>(<scope>): <subject>

<body>

<footer>
```

**Types**: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`, `perf`, `ci`

**Examples**:
```bash
git commit -m "feat(packages): add prorated pricing for upgrades"
git commit -m "fix(auth): resolve JWT expiration issue"
git commit -m "docs(readme): update setup instructions"
```

## ğŸ†˜ Emergency Hotfix

```bash
# 1. Create from main
git checkout main
git pull origin main
git checkout -b hotfix/critical-fix

# 2. Fix and commit
git add .
git commit -m "fix(security): patch critical vulnerability"

# 3. Push and create urgent PR to main
git push origin hotfix/critical-fix

# 4. After merge to main, merge to develop
git checkout develop
git merge main
git push origin develop
```

---

**See [.git-branching-strategy.md](./.git-branching-strategy.md) for complete details.**

